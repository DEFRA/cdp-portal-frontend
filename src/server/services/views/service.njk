{% extends "layouts/page.njk" %}

{% from "govuk/components/table/macro.njk" import govukTable %}

{% from "entity-list/macro.njk" import appEntityList %}

{% block content %}

  {{ appHeading({
    title: heading,
    caption: "Detailed information about the " + heading + " Micro-service.",
    entities: headingEntities
  }) }}

  <hr class="govuk-section-break govuk-section-break--visible govuk-section-break--m">

  <div class="govuk-grid-row govuk-!-margin-bottom-4">

    <div class="govuk-grid-column-two-thirds">
      <section class="app-section">
        <h2 class="govuk-heading-m govuk-!-margin-bottom-2">About</h2>
        <p>
          {{ service.description }}
        </p>

        <h2 class="govuk-heading-m govuk-!-margin-bottom-2">Running versions</h2>
        {{ appEntityList({
          headings: [
            { text: "Sandbox", size: "small"},
            { text: "Development", size: "small"},
            { text: "Testing", size: "small"},
            { text: "Perf test", size: "small"},
            { text: "Production", size: "small"}
          ],
          entityRows: runningServicesEntityRows,
          noResult: "Currently there are no versions of " + service.imageName + " running in any environments"
        }) }}

      </section>
    </div>

    <div class="govuk-grid-column-one-third">
      {{ appEntityDataList({
        heading: "Micro-service details",
        items: entityDataList
      }) }}
    </div>
  </div>

{% endblock %}
