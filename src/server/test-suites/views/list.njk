{% from "test-suites/common/components/test-suite-row/macro.njk" import testSuiteRow %}

{% extends "layouts/page.njk" %}

{% block content %}
  {{ appPageHeading({
    text: "Test Suites",
    intro: "User Journey and Performance tests"
  }) }}


  {% call appFilters({
    action: action,
    info: {
      html: appEntityDataList({
        items: servicesInfo
      })
    },
    clear: {
      url: "/services"
    }
  }) %}

    <div class="app-filters__item">
      {{ appAutocomplete({
        id: "filters-test-suite",
        name: "test-suite",
        classes: "app-autocomplete--medium app-autocomplete--inline",
        label: {
          text: "Test Suite name",
          classes: "govuk-label--s app-label--inline govuk-!-margin-bottom-1"
        },
        icon: appSearchIcon(),
        formGroup: {
          classes: "app-form-group--inline"
        },
        value: formValues.testSuite,
        suggestions: testSuiteFilters,
        typeahead: true,
        placeholder: "Search by test suite"
      }) }}
    </div>

    <div class="app-filters__item">
      {{ appAutocomplete({
        id: "filters-team",
        name: "teamId",
        classes: "app-autocomplete--small app-autocomplete--inline",
        label: {
          text: "Team",
          classes: "govuk-label--s app-label--inline govuk-!-margin-bottom-1"
        },
        formGroup: {
          classes: "app-form-group--inline"
        },
        value: formValues.teamId,
        suggestions: teamFilters
      }) }}
    </div>

  {% endcall %}


  {% call(params) appEntityTable(tableData) %}

    {{  testSuiteRow({
      rowClasses: params.rowClasses,
      loopIndex: params.loopIndex,
      isOwner:  params.row.isOwner,
      testSuite: params.row.name,
      teams: params.row.teams,
      testType: params.row.subType,
      status: params.row.status,
      created: params.row.created
    }) }}
  {% endcall %}

{% endblock %}
