{% extends "layouts/page.njk" %}

{% block content %}
  {% call appSplitPane() %}

    {{ appPageHeading({
      caption: "Permission",
      text: "Create new"
    }) }}

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-one-half-from-desktop">
        <form action="/admin/permissions/create"
              method="post"
              data-js="app-form-errors">
          <input type="hidden" name="csrfToken" value="{{ csrfToken }}" />

          {% call govukFieldset() %}

            {{ govukInput({
              label: {
                text: "Value",
                classes: "app-label"
              },
              id: "value",
              name: "value",
              classes: "app-input app-input--wide",
              formGroup: {
                classes: "app-form-group"
              },
              attributes: {
                "data-1p-ignore": ""
              },
              value: formValues.value,
              errorMessage: {
                attributes: {
                  "data-js": "app-error"
                },
                text: formErrors.value.message,
                classes: "govuk-!-margin-bottom-1 app-error-message"
              } if formErrors.value.message
            }) }}

            {{ govukTextarea({
              label: {
                text: "Description (optional)",
                classes: "app-label"
              },
              id: "description",
              name: "description",
              classes: "app-textarea app-textarea--wide",
              formGroup: {
                classes: "app-form-group app-form-group-js"
              },
              attributes: {
                "data-1p-ignore": ""
              },
              value: formValues.description,
              errorMessage: {
                attributes: {
                  "data-js": "app-error"
                },
                text: formErrors.description.message,
                classes: "govuk-!-margin-bottom-1 app-error-message"
              } if formErrors.description.message
            }) }}

          {% endcall %}

          <div class="govuk-button-group">
            {{ govukButton({
              classes: "app-button",
              text: "Create"
            }) }}
          </div>
        </form>

      </div>
    </div>

  {% endcall %}
{% endblock %}
