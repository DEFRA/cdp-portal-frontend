{% extends "layouts/page.njk" %}

{% from "govuk/components/table/macro.njk" import govukTable %}

{% from "entity-list/macro.njk" import appEntityList %}

{% block content %}

  {{ appHeading({
    title: heading,
    caption: "Detailed information about the " + heading + " Micro-service.",
    entities: headingEntities
  }) }}

  <hr class="govuk-section-break govuk-section-break--visible govuk-section-break--m">

  <div class="govuk-grid-row govuk-!-margin-bottom-4">

    <div class="govuk-grid-column-two-thirds">
      <section class="app-section">
        <h2 class="govuk-heading-m govuk-!-margin-bottom-2">About</h2>
        <p>
          {{ service.description }}
        </p>

        {% if service.urls.length %}
          <h2 class="govuk-heading-m govuk-!-margin-bottom-2">Service Urls</h2>

          <ul class="govuk-list govuk-list--bullet">
            {% for serviceDetail in service.urls %}
              <li>
                {{ serviceDetail.environment }}:
                {% if serviceDetail.url %}
                  <a class="app-link"
                     href="{{ serviceDetail.url }}"
                     target="_blank">snd.{{ service.id }}.defra.gov.uk</a>
                {% endif %}
              </li>
            {% endfor %}
          </ul>
        {% endif %}

      </section>
    </div>

    <div class="govuk-grid-column-one-third">
      {{ appEntityDataList({
        heading: "Micro-service details",
        items: entityDataList
      }) }}
    </div>
  </div>

{% endblock %}
